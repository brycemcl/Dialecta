datasource db {
  provider   = "postgresql"
  url        = env("DATABASE_URL")
  extensions = [vector]
}

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

model Document {
  id              String            @id @default(cuid())
  contents        String
  DocumentSegment DocumentSegment[]
}

model DocumentSegment {
  hash            String          @id
  contents        String
  EmbeddingAda002 EmbeddingAda002 @relation(fields: [embeddingAda002], references: [hash])
  embeddingAda002 String
  Document        Document[]
}

model EmbeddingAda002 {
  hash            String                       @id
  embedding       Unsupported("vector(1536)")?
  DocumentSegment DocumentSegment[]
}
